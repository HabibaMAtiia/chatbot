<!DOCTYPE html>
<html>
<head>
    <title>Chat - {{ mode }}</title>
</head>
<body style="font-family:sans-serif; padding: 30px;">

    <!-- Display current chat mode (general, home, recipe, shopping) -->
    <h2>Chat - {{ mode }}</h2>

    <!-- Chat history display box -->
    <div style="height:300px; overflow:auto; border:1px solid #ccc; padding:10px;">
        {% for sender, msg in chat_history %}
            <!-- Loop through chat history and display each message -->
            <p><strong>{{ sender }}:</strong> {{ msg }}</p>
        {% endfor %}
    </div>

    <!-- Form to send a new message -->
    <form method="post" style="margin-top:10px;">
        <input type="text" name="message" style="width:80%;" required>
        <button type="submit">Send</button>
    </form>

    <!-- Form to clear chat history -->
    <form method="post" action="/clear">
        <button type="submit" style="margin-top:10px;">🗑️ Clear Chat</button>
    </form>

</body>
</html>
